# ğŸŒ API ä½¿ç”¨æŒ‡å— â€“ å–å¾—æ­·å²èˆ‡é æ¸¬æ°£å€™è³‡æ–™

## 1ï¸âƒ£ API æ¦‚è¦½

ç›®å‰å¾Œç«¯æä¾›å…©çµ„è³‡æ–™æŸ¥è©¢ APIï¼š

| API é¡å‹ | è·¯å¾‘æ ¼å¼                                      | èªªæ˜                                   |
|----------|---------------------------------------------|--------------------------------------|
| æ­·å²è³‡æ–™ | `/data/<year>/<month>/<column_id>+<row_id>` | ä¾æŒ‡å®šå¹´æœˆèˆ‡æ ¼é» ID æŸ¥è©¢æ­·å²æ°£å€™è³‡æ–™       |
| NDVIé æ¸¬ | `/NDVI/<month>/<vegetation>/<column_id>+<row_id>` | ä¾æœˆä»½ã€æ¤è¢«è¦†è“‹ç‡èˆ‡æ ¼é» ID æŸ¥è©¢é æ¸¬æ°£å€™è³‡æ–™ |
| å¹´åº¦å¤©æ°£ç‹€æ³ | `/annual/<weather_conditions>/<year>/<column_id>+<row_id>` | ä¾å¹´ä»½èˆ‡æ ¼é» ID æŸ¥è©¢ç‰¹å®šå¤©æ°£ç‹€æ³çš„å…¨å¹´æ•¸æ“š |
| å¹´åº¦æº«åº¦æ•¸æ“š | `/annual/temp/<year>/<column_id>+<row_id>` | ä¾å¹´ä»½èˆ‡æ ¼é» ID æŸ¥è©¢æ‰€æœ‰æº«åº¦ç›¸é—œæ•¸æ“šçš„å…¨å¹´è³‡æ–™ |
| æ ¼é»æº«åº¦åœ°åœ– | `/formap/<type>/<year>/<month>` | ä¾å¹´æœˆæŸ¥è©¢æ‰€æœ‰æ ¼é»çš„æŒ‡å®šé¡å‹æº«åº¦æ•¸æ“š |

`column_id` èˆ‡ `row_id` å°æ‡‰åˆ°åœ°ç†ç¶²æ ¼ï¼Œç³»çµ±æœƒè‡ªå‹•æä¾›å°æ‡‰çš„ç¶“ç·¯åº¦èˆ‡æµ·æ‹”è³‡è¨Šã€‚

---

## 2ï¸âƒ£ è«‹æ±‚ç¯„ä¾‹

### å–å¾—æ­·å²è³‡æ–™

```bash
GET http://localhost:5000/data/2020/7/15+23
```

- 2020 â†’ å¹´ä»½
- 7 â†’ æœˆä»½
- 15 â†’ column_id
- 23 â†’ row_id

å›æ‡‰ç¯„ä¾‹ï¼š

```json
{
  "apparent_temperatures": {
    "current": 28.5,
    "high": 31.2,
    "low": 24.5
  },
  "temperatures": {
    "current": 27.4,
    "high": 31.2,
    "low": 24.5
  },
  "weather_conditions": {
    "humidity": 78.5,
    "pressure": 1012.3,
    "rain": 128.0,
    "solar": 5.6,
    "wind": 3.4
  },
  "location": {
    "column_id": 15,
    "row_id": 23,
    "latitude": 25.1131,
    "longitude": 121.2971,
    "elevation": 68.0
  },
  "metadata": {
    "id": 12345,
    "year": 2020,
    "month": 7,
    "vegetation": 0.35,
    "water_body": 0.05
  }
}
```

---

### å–å¾—å¹´åº¦å¤©æ°£ç‹€æ³è³‡æ–™

```bash
GET http://localhost:5000/annual/solar/2020/15+23
```

- solar â†’ å¤©æ°£ç‹€æ³ï¼ˆå¯é¸ï¼šhumidity, pressure, rain, solar, windï¼‰
- 2020 â†’ å¹´ä»½
- 15 â†’ column_id
- 23 â†’ row_id

å›æ‡‰ç¯„ä¾‹ï¼š

```json
{
    "1": 5.6,
    "2": 5.8,
    "3": 6.1,
    "4": 5.9,
    "5": 5.7,
    "6": 5.5,
    "7": 5.6,
    "8": 5.8,
    "9": 5.7,
    "10": 5.4,
    "11": 5.3,
    "12": 5.2
}
```

### å–å¾—å¹´åº¦æº«åº¦æ•¸æ“š

```bash
GET http://localhost:5000/annual/temp/2020/15+23
```

- 2020 â†’ å¹´ä»½
- 15 â†’ column_id
- 23 â†’ row_id

å›æ‡‰ç¯„ä¾‹ï¼š

```json
{
    "Apparent_Temperature": {
        "1": 25.6,
        "2": 26.1,
        "3": 27.3,
        ...
    },
    "Apparent_Temperature_High": {
        "1": 28.5,
        "2": 29.1,
        "3": 30.2,
        ...
    },
    "Apparent_Temperature_Low": {
        "1": 22.5,
        "2": 23.1,
        "3": 24.2,
        ...
    },
    "Temperature": {
        "1": 24.6,
        "2": 25.1,
        "3": 26.3,
        ...
    },
    "High_Temp": {
        "1": 27.5,
        "2": 28.1,
        "3": 29.2,
        ...
    },
    "Low_Temp": {
        "1": 21.5,
        "2": 22.1,
        "3": 23.2,
        ...
    }
}
```

### å–å¾—æ ¼é»æº«åº¦åœ°åœ–

```bash
GET http://localhost:5000/formap/Temperature/2020/7
```

- Temperature â†’ æº«åº¦é¡å‹ï¼ˆå¯é¸ï¼šTemperature, Low_Temp, High_Temp, Apparent_Temperature, Apparent_Temperature_High, Apparent_Temperature_Lowï¼‰
- 2020 â†’ å¹´ä»½
- 7 â†’ æœˆä»½

å›æ‡‰ç¯„ä¾‹ï¼š

```json
{
    "0": {
        "0": 25.6,
        "1": 26.1,
        "2": 27.3
    },
    "1": {
        "0": 25.8,
        "1": 26.3,
        "2": 27.5
    }
}
```

å›æ‡‰æ•¸æ“šèªªæ˜ï¼š
- ç¬¬ä¸€å±¤éµï¼ˆå¦‚ "0", "1"ï¼‰ä»£è¡¨ column_id
- ç¬¬äºŒå±¤éµï¼ˆå¦‚ "0", "1", "2"ï¼‰ä»£è¡¨ row_id
- æ•¸å€¼ç‚ºè©²æ ¼é»çš„æŒ‡å®šé¡å‹æº«åº¦

### å–å¾— NDVI é æ¸¬è³‡æ–™

```bash
GET http://localhost:5000/NDVI/7/0.5/15+23
```

- 7 â†’ æœˆä»½
- 0.5 â†’ æ¤è¢«è¦†è“‹ç‡ï¼ˆ0.0 ~ 1.0ï¼‰
- 15 â†’ column_id
- 23 â†’ row_id

å›æ‡‰ç¯„ä¾‹ï¼š

```json
{
  "apparent_temperatures": {
    "current": 28.5,
    "high": 31.2,
    "low": 24.5
  },
  "predicted_temperatures": {
    "current": 27.4,
    "high": 31.2,
    "low": 24.5
  },
  "weather_conditions": {
    "humidity": 78.5,
    "pressure": 1012.3,
    "rain": 128.0,
    "solar": 5.6,
    "wind": 3.4
  },
  "location": {
    "column_id": 15,
    "row_id": 23,
    "latitude": 25.1131,
    "longitude": 121.2971,
    "elevation": 68.0
  },
  "metadata": {
    "id": 12345,
    "month": 7,
    "vegetation": 0.5,
    "water_body": 0.05
  }
}
```

---

## 3ï¸âƒ£ å›æ‡‰è³‡æ–™çµæ§‹èªªæ˜

æ‰€æœ‰ API å›æ‡‰å‡æ¡ç”¨çµæ§‹åŒ– JSON æ ¼å¼ï¼Œä¸»è¦åˆ†ç‚ºä»¥ä¸‹å¹¾å€‹éƒ¨åˆ†ï¼š

1. `apparent_temperatures`: é«”æ„Ÿæº«åº¦ç›¸é—œæ•¸æ“š
   - `current`: ç•¶å‰é«”æ„Ÿæº«åº¦
   - `high`: æœ€é«˜é«”æ„Ÿæº«åº¦
   - `low`: æœ€ä½é«”æ„Ÿæº«åº¦

2. `temperatures`/`predicted_temperatures`: å¯¦éš›æˆ–é æ¸¬æº«åº¦
   - `current`: ç•¶å‰æº«åº¦
   - `high`: æœ€é«˜æº«åº¦
   - `low`: æœ€ä½æº«åº¦

3. `weather_conditions`: å…¶ä»–æ°£è±¡æ¢ä»¶
   - `humidity`: æ¿•åº¦
   - `pressure`: æ°£å£“
   - `rain`: é™é›¨é‡
   - `solar`: æ—¥ç…§
   - `wind`: é¢¨é€Ÿ

4. `location`: ä½ç½®è³‡è¨Š
   - `column_id`: ç¶²æ ¼è¡Œç·¨è™Ÿ
   - `row_id`: ç¶²æ ¼åˆ—ç·¨è™Ÿ
   - `latitude`: ç·¯åº¦
   - `longitude`: ç¶“åº¦
   - `elevation`: æµ·æ‹”é«˜åº¦

5. `metadata`: å…¶ä»–å…ƒæ•¸æ“š
   - `id`: è³‡æ–™ç·¨è™Ÿ
   - `year`: å¹´ä»½ï¼ˆåƒ…æ­·å²è³‡æ–™ï¼‰
   - `month`: æœˆä»½
   - `vegetation`: æ¤è¢«è¦†è“‹ç‡
   - `water_body`: æ°´é«”è¦†è“‹ç‡

## 4ï¸âƒ£ æ³¨æ„äº‹é …

- Response æ ¼å¼ç‚ºçµæ§‹åŒ– JSONï¼Œä¾¿æ–¼å‰ç«¯è™•ç†èˆ‡æ¸²æŸ“
- å¹´ä»½èˆ‡æœˆä»½éœ€ç‚ºæ•¸å­—ï¼Œæœˆä»½ç¯„åœç‚º 1-12
- æ¤è¢«è¦†è“‹ç‡ç¯„åœç‚º 0.0-1.0
- è‹¥æŸ¥ç„¡è³‡æ–™ï¼Œæœƒå›å‚³ 404 ç‹€æ…‹ç¢¼èˆ‡éŒ¯èª¤è¨Šæ¯
- API é è¨­ç„¡åˆ†é åŠŸèƒ½ï¼Œå–®æ¬¡è«‹æ±‚åªæœƒè¿”å›å–®ä¸€æ ¼é»çš„è³‡æ–™
- æ‰€æœ‰æ°£è±¡è³‡æ–™æœƒè‡ªå‹•åŒ…å«å°æ‡‰çš„ç¶“ç·¯åº¦èˆ‡æµ·æ‹”è³‡è¨Š  

